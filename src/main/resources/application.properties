# ===============================================
# == SERVER PORT ==
# ===============================================
server.port=8080

# ===============================================
# == MYSQL DATABASE CONNECTION ==
# ===============================================
# --- Use environment variables for credentials ---
spring.datasource.url=jdbc:mysql://localhost:3306/mk_siopao_db?createDatabaseIfNotExist=true

spring.datasource.username=${DB_USERNAME}
spring.datasource.password=${DB_PASSWORD}

# ===============================================
# == DEFAULT ADMIN CREDENTIALS ==
# ===============================================
# These are default values for development.
# In production, override these with environment variables:
# MK_ADMIN_USERNAME
# MK_ADMIN_PASSWORD
mk.admin.username=mktoastedadmin
mk.admin.password=mktoasted123

# ===============================================
# == SPRING DATA JPA (Hibernate) ==
# ===============================================
spring.jpa.database-platform=org.hibernate.dialect.MySQLDialect

# "update" will automatically create and update tables based on @Entity classes.
spring.jpa.hibernate.ddl-auto=update

# This prints the SQL commands to the console for debugging purposes.
spring.jpa.show-sql=true
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# ===============================================
# == FILE UPLOAD SETTINGS ==
# ===============================================
file.upload-dir=./mk-uploads
# --- ADDED: Set max file size to 20MB ---
spring.servlet.multipart.max-file-size=20MB
spring.servlet.multipart.max-request-size=200MB
# --- ADDED: Fix for multipart form submissions with no file ---
spring.servlet.multipart.resolve-lazily=true

# ===============================================
# == SPRING MAIL (GMAIL) SETTINGS ==
# ===============================================
# --- Use environment variables for credentials ---
# NOTE: You MUST use a Gmail "App Password" for GMAIL_APP_PASSWORD.
# See: https://support.google.com/accounts/answer/185833
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=${GMAIL_USERNAME}
spring.mail.password=${GMAIL_APP_PASSWORD}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true