<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
	th:replace="~{admin/base :: layout(~{::#admin-content-wrapper}, ~{::script}, 'dashboard')}">
<head>
<title>Admin Dashboard - MK Admin Portal</title>
</head>
<body>

	<div id="admin-content-wrapper">
		<h2 class="section-title mb-4 text-center">Admin Dashboard</h2>

		<div class="row justify-content-center">
			<div class="col-md-3 mb-3">
				<div class="stats-card card text-center py-4">
					<div class="card-body">
						<h5 class="card-title">Pending Orders</h5>
						<div class="stats-value text-warning"
							th:text="${pendingOrderCount}">0</div>
						<div class="stats-change text-muted small">Orders awaiting
							processing</div>
					</div>
				</div>
			</div>
			<div class="col-md-3 mb-3">
				<div class="stats-card card text-center py-4">
					<div class="card-body">
						<h5 class="card-title">Low Stock Products</h5>
						<div class="stats-value text-warning"
							th:text="${lowStockProducts}">0</div>
						<div class="stats-change text-muted small">Products at or
							below low threshold</div>
					</div>
				</div>
			</div>
			<div class="col-md-3 mb-3">
				<div class="stats-card card text-center py-4">
					<div class="card-body">
						<h5 class="card-title">Out of Stock Products</h5>
						<div class="stats-value text-danger"
							th:text="${outOfStockProducts}">0</div>
						<div class="stats-change text-muted small">Products with
							zero stock</div>
					</div>
				</div>
			</div>
			<div class="col-md-3 mb-3">
				<div class="stats-card card text-center py-4">
					<div class="card-body">
						<h5 class="card-title">Active Customers</h5>
						<div class="stats-value text-success" th:text="${activeCustomers}">0</div>
						<div class="stats-change text-muted small">Customers active
							recently</div>
					</div>
				</div>
			</div>
		</div>
		<div class="row justify-content-center">
			<div class="col-12 mt-4">
				<div class="card">
					<div class="card-header text-center">
						<h5 class="mb-0">Recent Orders</h5>
					</div>
					<div class="card-body">
						<div class="table-responsive">
							<table class="table table-hover align-middle text-center">
								<thead class="table-light">
									<tr>
										<th>Order ID</th>
										<th>Customer</th>
										<th>Amount</th>
										<th>Status</th>
										<th>Date</th>
										<th>Action</th>
									</tr>
								</thead>
								<tbody>
									<tr th:each="order : ${recentOrders}">
										<td th:text="'#ORD-' + ${order.id}">#ORD-XXXX</td>
										<td
											th:text="${order.shippingFirstName + ' ' + order.shippingLastName}">Customer
											Name</td>
										<td
											th:text="'₱' + ${#numbers.formatDecimal(order.totalAmount, 1, 'COMMA', 2, 'POINT')}">
											₱XXX</td>
										<td><span class="status-badge" th:text="${order.status}"
											th:classappend="'status-' + ${#strings.toLowerCase(order.status)}">Pending</span>
										</td>
										<td
											th:text="${#temporals.format(order.orderDate, 'MMM dd, yyyy')}">Date</td>
										<td><a href="#"
											class="btn btn-sm btn-action-view disabled"
											title="View Details (coming soon)">View</a></td>
									</tr>
									<tr th:if="${#lists.isEmpty(recentOrders)}">
										<td colspan="6" class="text-center text-muted">No recent
											orders found.</td>
									</tr>
								</tbody>
							</table>
						</div>
						<div class="text-center">
							<a th:href="@{/admin/orders}" class="btn btn-custom mt-3">View
								All Orders</a>
						</div>
					</div>
				</div>
			</div>
		</div>

	</div>
	<th:block th:fragment="script">
	</th:block>

</body>
</html>