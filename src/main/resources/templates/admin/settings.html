<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
	th:replace="~{admin/base :: layout(~{::#admin-content-wrapper}, ~{::script}, 'settings')}">
<head>
<title>Site Management - MK Admin Portal</title>
</head>
<body>

	<div id="admin-content-wrapper">

		<div
			class="d-flex flex-column flex-md-row justify-content-between align-items-center mb-4">
			<h1 class="mb-3 mb-md-0 section-title">Site Management</h1>
		</div>

		<form th:action="@{/admin/settings/update}"
			th:object="${siteSettings}" method="post"
			enctype="multipart/form-data"
			data-confirm-save-message="Are you sure you want to save all changes to the site settings?">

			<div
				th:replace="~{admin/fragments/common-alerts :: all-alerts-as-toasts}"></div>

			<input type="hidden" th:field="*{id}" />

			<section class="mb-4">
				<div class="card p-4 shadow-sm">
					<h2 class="h4">General Settings</h2>
					<div class="mb-3">
						<label for="websiteName" class="form-label">Website Name</label> <input
							type="text" id="websiteName" class="form-control"
							th:field="*{websiteName}">
						<div class="form-text">This appears in the browser tab and
							navbar.</div>
					</div>
				</div>
			</section>

			<section class="mb-4">
				<div class="card p-4 shadow-sm">
					<h2 class="h4">Homepage Carousel (Slider)</h2>
					<div class="row">
						<div class="col-md-4 mb-3">
							<label class="form-label">Carousel Image 1</label>
							<div class="image-uploader-container" id="carousel1Uploader">
								<input type="hidden" th:field="*{carouselImage1}" /> <input
									type="hidden" name="removeCarouselImage1" value="false"
									class="image-remove-flag" /> <input type="file"
									name="carouselImage1File" class="image-uploader-input"
									accept="image/jpeg, image/png, image/gif">
								<div class="image-drop-zone">
									<i class="fa-solid fa-cloud-arrow-up text-muted"></i>
									<p class="mb-0 small">
										<strong>Choose file</strong> or drag here.
									</p>
								</div>
								<div class="image-preview-container">
									<img src="" alt="Image Preview" class="image-preview">
									<button type="button"
										class="btn btn-sm btn-danger image-remove-btn"
										title="Remove Image">
										<i class="fa-solid fa-trash"></i>
									</button>
								</div>
							</div>
						</div>
						<div class="col-md-4 mb-3">
							<label class="form-label">Carousel Image 2</label>
							<div class="image-uploader-container" id="carousel2Uploader">
								<input type="hidden" th:field="*{carouselImage2}" /> <input
									type="hidden" name="removeCarouselImage2" value="false"
									class="image-remove-flag" /> <input type="file"
									name="carouselImage2File" class="image-uploader-input"
									accept="image/jpeg, image/png, image/gif">
								<div class="image-drop-zone">
									<i class="fa-solid fa-cloud-arrow-up text-muted"></i>
									<p class="mb-0 small">
										<strong>Choose file</strong> or drag here.
									</p>
								</div>
								<div class="image-preview-container">
									<img src="" alt="Image Preview" class="image-preview">
									<button type="button"
										class="btn btn-sm btn-danger image-remove-btn"
										title="Remove Image">
										<i class="fa-solid fa-trash"></i>
									</button>
								</div>
							</div>
						</div>
						<div class="col-md-4 mb-3">
							<label class="form-label">Carousel Image 3</label>
							<div class="image-uploader-container" id="carousel3Uploader">
								<input type="hidden" th:field="*{carouselImage3}" /> <input
									type="hidden" name="removeCarouselImage3" value="false"
									class="image-remove-flag" /> <input type="file"
									name="carouselImage3File" class="image-uploader-input"
									accept="image/jpeg, image/png, image/gif">
								<div class="image-drop-zone">
									<i class="fa-solid fa-cloud-arrow-up text-muted"></i>
									<p class="mb-0 small">
										<strong>Choose file</strong> or drag here.
									</p>
								</div>
								<div class="image-preview-container">
									<img src="" alt="Image Preview" class="image-preview">
									<button type="button"
										class="btn btn-sm btn-danger image-remove-btn"
										title="Remove Image">
										<i class="fa-solid fa-trash"></i>
									</button>
								</div>
							</div>
						</div>
					</div>
				</div>
			</section>

			<section class="mb-4">
				<div class="card p-4 shadow-sm">
					<h2 class="h4">Homepage Featured Products</h2>
					<div class="mb-3">
						<label for="featuredProductsTitle" class="form-label">Section
							Title</label> <input type="text" id="featuredProductsTitle"
							class="form-control" th:field="*{featuredProductsTitle}">
					</div>
					<hr>
					<div class="row">
						<div class="col-md-6 col-lg-3 mb-3">
							<div class="card h-100">
								<div class="card-body">
									<h5 class="card-title">Feature Card 1</h5>
									<div class="mb-2">
										<label class="form-label small">Image</label>
										<div class="image-uploader-container" id="feature1Uploader">
											<input type="hidden" th:field="*{featureCard1Image}" /> <input
												type="hidden" name="removeFeatureCard1Image" value="false"
												class="image-remove-flag" /> <input type="file"
												name="featureCard1ImageFile" class="image-uploader-input"
												accept="image/jpeg, image/png, image/gif">
											<div class="image-drop-zone">
												<i class="fa-solid fa-cloud-arrow-up text-muted"></i>
												<p class="mb-0 small">
													<strong>Choose file</strong> or drag here.
												</p>
											</div>
											<div class="image-preview-container">
												<img src="" alt="Image Preview" class="image-preview">
												<button type="button"
													class="btn btn-sm btn-danger image-remove-btn"
													title="Remove Image">
													<i class="fa-solid fa-trash"></i>
												</button>
											</div>
										</div>
									</div>
									<div class="mb-2">
										<label class="form-label small">Title</label> <input
											type="text" class="form-control form-control-sm"
											th:field="*{featureCard1Title}">
									</div>
									<div class="mb-2">
										<label class="form-label small">Description</label>
										<textarea rows="6" class="form-control form-control-sm"
											th:field="*{featureCard1Text}"></textarea>
									</div>
								</div>
							</div>
						</div>
						<div class="col-md-6 col-lg-3 mb-3">
							<div class="card h-100">
								<div class="card-body">
									<h5 class="card-title">Feature Card 2</h5>
									<div class="mb-2">
										<label class="form-label small">Image</label>
										<div class="image-uploader-container" id="feature2Uploader">
											<input type="hidden" th:field="*{featureCard2Image}" /> <input
												type="hidden" name="removeFeatureCard2Image" value="false"
												class="image-remove-flag" /> <input type="file"
												name="featureCard2ImageFile" class="image-uploader-input"
												accept="image/jpeg, image/png, image/gif">
											<div class="image-drop-zone">
												<i class="fa-solid fa-cloud-arrow-up text-muted"></i>
												<p class="mb-0 small">
													<strong>Choose file</strong> or drag here.
												</p>
											</div>
											<div class="image-preview-container">
												<img src="" alt="Image Preview" class="image-preview">
												<button type="button"
													class="btn btn-sm btn-danger image-remove-btn"
													title="Remove Image">
													<i class="fa-solid fa-trash"></i>
												</button>
											</div>
										</div>
									</div>
									<div class="mb-2">
										<label class="form-label small">Title</label> <input
											type="text" class="form-control form-control-sm"
											th:field="*{featureCard2Title}">
									</div>
									<div class="mb-2">
										<label class="form-label small">Description</label>
										<textarea rows="6" class="form-control form-control-sm"
											th:field="*{featureCard2Text}"></textarea>
									</div>
								</div>
							</div>
						</div>
						<div class="col-md-6 col-lg-3 mb-3">
							<div class="card h-100">
								<div class="card-body">
									<h5 class="card-title">Feature Card 3</h5>
									<div class="mb-2">
										<label class="form-label small">Image</label>
										<div class="image-uploader-container" id="feature3Uploader">
											<input type="hidden" th:field="*{featureCard3Image}" /> <input
												type="hidden" name="removeFeatureCard3Image" value="false"
												class="image-remove-flag" /> <input type="file"
												name="featureCard3ImageFile" class="image-uploader-input"
												accept="image/jpeg, image/png, image/gif">
											<div class="image-drop-zone">
												<i class="fa-solid fa-cloud-arrow-up text-muted"></i>
												<p class="mb-0 small">
													<strong>Choose file</strong> or drag here.
												</p>
											</div>
											<div class="image-preview-container">
												<img src="" alt="Image Preview" class="image-preview">
												<button type="button"
													class="btn btn-sm btn-danger image-remove-btn"
													title="Remove Image">
													<i class="fa-solid fa-trash"></i>
												</button>
											</div>
										</div>
									</div>
									<div class="mb-2">
										<label class="form-label small">Title</label> <input
											type="text" class="form-control form-control-sm"
											th:field="*{featureCard3Title}">
									</div>
									<div class="mb-2">
										<label class="form-label small">Description</label>
										<textarea rows="6" class="form-control form-control-sm"
											th:field="*{featureCard3Text}"></textarea>
									</div>
								</div>
							</div>
						</div>
						<div class="col-md-6 col-lg-3 mb-3">
							<div class="card h-100">
								<div class="card-body">
									<h5 class="card-title">Feature Card 4</h5>
									<div class="mb-2">
										<label class="form-label small">Image</label>
										<div class="image-uploader-container" id="feature4Uploader">
											<input type="hidden" th:field="*{featureCard4Image}" /> <input
												type="hidden" name="removeFeatureCard4Image" value="false"
												class="image-remove-flag" /> <input type="file"
												name="featureCard4ImageFile" class="image-uploader-input"
												accept="image/jpeg, image/png, image/gif">
											<div class="image-drop-zone">
												<i class="fa-solid fa-cloud-arrow-up text-muted"></i>
												<p class="mb-0 small">
													<strong>Choose file</strong> or drag here.
												</p>
											</div>
											<div class="image-preview-container">
												<img src="" alt="Image Preview" class="image-preview">
												<button type="button"
													class="btn btn-sm btn-danger image-remove-btn"
													title="Remove Image">
													<i class="fa-solid fa-trash"></i>
												</button>
											</div>
										</div>
									</div>
									<div class="mb-2">
										<label class="form-label small">Title</label> <input
											type="text" class="form-control form-control-sm"
											th:field="*{featureCard4Title}">
									</div>
									<div class="mb-2">
										<label class="form-label small">Description</label>
										<textarea rows="6" class="form-control form-control-sm"
											th:field="*{featureCard4Text}"></textarea>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</section>

			<section class="mb-4">
				<div class="row">
					<div class="col-md-6 mb-3">
						<div class="card p-4 shadow-sm h-100">
							<h2 class="h4">Homepage Promo Banner</h2>
							<div class="mb-3">
								<label for="promoTitle" class="form-label">Promo Title</label> <input
									type="text" id="promoTitle" class="form-control"
									th:field="*{promoTitle}">
							</div>
							<div class="mb-3">
								<label for="promoText" class="form-label">Promo
									Description</label>
								<textarea id="promoText" rows="5" class="form-control"
									th:field="*{promoText}"></textarea>
							</div>
						</div>
					</div>
					<div class="col-md-6 mb-3">
						<div class="card p-4 shadow-sm h-100">
							<h2 class="h4">Homepage "Why Us" Section</h2>
							<div class="mb-3">
								<label for="whyUsTitle" class="form-label">Section Title</label>
								<input type="text" id="whyUsTitle" class="form-control"
									th:field="*{whyUsTitle}">
							</div>
							<div class="mb-3">
								<label for="whyUsText" class="form-label">Description</label>
								<textarea id="whyUsText" rows="5" class="form-control"
									th:field="*{whyUsText}"></textarea>
							</div>
							<div class="mb-3">
								<label class="form-label small">Image</label>
								<div class="image-uploader-container" id="whyUsUploader">
									<input type="hidden" th:field="*{whyUsImage}" /> <input
										type="hidden" name="removeWhyUsImage" value="false"
										class="image-remove-flag" /> <input type="file"
										name="whyUsImageFile" class="image-uploader-input"
										accept="image/jpeg, image/png, image/gif">
									<div class="image-drop-zone">
										<i class="fa-solid fa-cloud-arrow-up text-muted"></i>
										<p class="mb-0 small">
											<strong>Choose file</strong> or drag here.
										</p>
									</div>
									<div class="image-preview-container">
										<img src="" alt="Image Preview" class="image-preview">
										<button type="button"
											class="btn btn-sm btn-danger image-remove-btn"
											title="Remove Image">
											<i class="fa-solid fa-trash"></i>
										</button>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</section>

			<section class="mb-4">
				<div class="card p-4 shadow-sm">
					<h2 class="h4">About Page Content</h2>
					<div class="mb-3">
						<label for="aboutTitle" class="form-label">Page Title</label> <input
							type="text" id="aboutTitle" class="form-control"
							th:field="*{aboutTitle}">
					</div>
					<div class="mb-3">
						<label for="aboutDescription1" class="form-label">Description
							Paragraph 1</label>
						<textarea id="aboutDescription1" rows="8" class="form-control"
							th:field="*{aboutDescription1}"></textarea>
					</div>
					<div class="mb-3">
						<label for="aboutDescription2" class_w="form-label">Description
							Paragraph 2</label>
						<textarea id="aboutDescription2" rows="8" class="form-control"
							th:field="*{aboutDescription2}"></textarea>
					</div>
					<div class="mb-3">
						<label class="form-label small">Image</label>
						<div class="image-uploader-container" id="aboutUploader">
							<input type="hidden" th:field="*{aboutImage}" /> <input
								type="hidden" name="removeAboutImage" value="false"
								class="image-remove-flag" /> <input type="file"
								name="aboutImageFile" class="image-uploader-input"
								accept="image/jpeg, image/png, image/gif">
							<div class="image-drop-zone">
								<i class="fa-solid fa-cloud-arrow-up text-muted"></i>
								<p class="mb-0 small">
									<strong>Choose file</strong> or drag here.
									</s_>
							</div>
							<div class="image-preview-container">
								<img src="" alt="Image Preview" class="image-preview">
								<button type="button"
									class="btn btn-sm btn-danger image-remove-btn"
									title="Remove Image">
									<i class="fa-solid fa-trash"></i>
								</button>
							</div>
						</div>
					</div>

					<hr class="my-4">
					<h2 class="h4">Contact Us Details</h2>
					<div class="row">
						<div class="col-md-6 mb-3">
							<label for="contactFacebookName" class="form-label">Facebook
								Link Text</label> <input type="text" id="contactFacebookName"
								class="form-control" th:field="*{contactFacebookName}">
						</div>
						<div class="col-md-6 mb-3">
							<label for="contactFacebookUrl" class="form-label">Facebook
								URL</label> <input type="text" id="contactFacebookUrl"
								class="form-control" th:field="*{contactFacebookUrl}"
								placeholder="https://facebook.com/page">
						</div>
						<div class="col-md-6 mb-3">
							<label for="contactPhoneName" class="form-label">Phone
								Link Text</label> <input type="text" id="contactPhoneName"
								class="form-control" th:field="*{contactPhoneName}"
								placeholder="+63 9XX XXX XXXX">
						</div>
						<div class="col-md-6 mb-3">
							<label for="contactPhoneUrl" class="form-label">Phone URL
								(tel:)</label> <input type="text" id="contactPhoneUrl"
								class="form-control" th:field="*{contactPhoneUrl}"
								placeholder="tel:+639XXXXXXXXX">
						</div>
					</div>
				</div>
			</section>

			<section class="mb-4">
				<div class="card p-4 shadow-sm">
					<h2 class="h4">Footer Settings</h2>
					<div class="mb-3">
						<label for="footerText" class="form-label">Footer Text</label> <input
							type="text" id="footerText" class="form-control"
							th:field="*{footerText}">
						<div class="form-text">This text appears at the bottom of
							every page.</div>
					</div>
				</div>
			</section>
			<div class="card p-3 shadow-sm text-end mb-3"
				sec:authorize="hasAuthority('EDIT_SITE_SETTINGS')">
				<button type="submit" class="btn btn-action-add btn-lg"
					style="width: 250px; margin-left: auto;">
					<i class="fa-solid fa-save me-1"></i> Save All Changes
				</button>
			</div>

		</form>
	</div>

	<th:block th:fragment="script">
		<script th:src="@{/js/admin-settings.js}"></script>
	</th:block>

</body>
</html>